# Домашнее задание "Калькулятор"
=========================

* Калькулятор
    1. Синтаксический разбор
    2. Преобразование в обратную польскую нотацию
    3. Вычисление результата по обратной польской нотации
* Программа должна читать выражения из стандартного ввода.
* Одна строка - одно выражение. Пустые строки игнорировать
* В ответ должна вывести 2 строки:
    - обратную польскую нотацию
    - вычисленное значение
* В случае если выражение не удалось разобрать, вывести:
    - Сообщение об ошибке
    - NaN
* Унарные '+' и '-' записывать как "U-" и "U+"

```perl
 - +      - унарные минус и минус, приоритет 4, правоассоциативный
 ^        - возведение в степень, приоритет 3, правоассоциативный
 * /      - умножение, приоритет 2, левоассоциативный
 + -      - сложение, приоритет 1, левоассоциативный
 ( )      - приоритет 0
```

```perl
# входное выражение:
- 16 + 2 * 0.3e+2 - .5 ^ ( 2 - 3 )
# с расставленными скобками согласно приоритету
( -16 ) + ( 2 * ( 30 ) ) - ( 0.5 ^ ( 2 - 3 ) )
# обратная польская нотация
16 U- 2 30 * + 0.5 2 3 - ^ -
# значение на выходе
42
```

Пример запуска:

```
echo "- 16 + 2 * 0.3e+2 - .5 ^ ( 2 - 3 )" | perl ./bin/calculator
16 U- 2 30 * + 0.5 2 3 - ^ -
42
```

```
perl ./bin/calculator
- 16 + 2 * 0.3e+2 - .5 ^ ( 2 - 3 )
16 U- 2 30 * + 0.5 2 3 - ^ -
42
```

---

```perl
my $str = '1+1-1';
my @chars = split //, $str; # '1','+','1','-','1'
my @chunks = split m{[-+]}, $str; # '1','1','1';
my @chunks = split m{([-+])}, $str; # '1','+','1','-','1';
```

---

Что почитать?

https://ru.wikipedia.org/wiki/%D0%9E%D0%B1%D1%80%D0%B0%D1%82%D0%BD%D0%B0%D1%8F_%D0%BF%D0%BE%D0%BB%D1%8C%D1%81%D0%BA%D0%B0%D1%8F_%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D1%8C

https://ru.wikipedia.org/wiki/%D0%9E%D1%87%D0%B5%D1%80%D1%91%D0%B4%D0%BD%D0%BE%D1%81%D1%82%D1%8C_%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B9
http://perldoc.perl.org/perlop.html#Operator-Precedence-and-Associativity

http://e-maxx.ru/algo/expressions_parsing